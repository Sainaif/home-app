# ============================================================================
# Holy Home - Environment Configuration Example
# ============================================================================
# This is a template configuration file. Copy this to .env and customize.
#
# Quick Start:
#   1. cp .env.example .env
#   2. Generate JWT secrets: openssl rand -base64 32
#   3. Set admin credentials
#   4. Review and adjust other settings
# ============================================================================

# Application Configuration
# --------------------------
# APP_NAME: Display name of the application
APP_NAME=Holy Home

# APP_ENV: Environment mode (development, staging, production)
# - development: Enables debug features, detailed errors
# - production: Optimized for performance and security
APP_ENV=development

# APP_HOST: Interface to bind the server to
# - 0.0.0.0: Listen on all interfaces (default for containers)
# - 127.0.0.1: Listen only on localhost
APP_HOST=0.0.0.0

# APP_PORT: Port number the backend server listens on
APP_PORT=3000

# APP_BASE_URL: Full URL where the application is accessible
# Used for generating links in emails and redirects
# Examples:
#   - Development: http://localhost:16162
#   - Production: https://home.yourdomain.com
APP_BASE_URL=http://localhost:16162

# APP_DOMAIN: Domain name of the application (without protocol or port)
# CRITICAL for WebAuthn (passkey) functionality - must match actual domain
# Examples:
#   - Development: localhost
#   - Production: home.yourdomain.com
APP_DOMAIN=localhost

# JWT Authentication Configuration
# --------------------------
# JWT_ACCESS_TTL: Lifetime of access tokens
# Format: Go duration (e.g., "15m", "1h", "24h")
# Recommendation: 15m-1h for security
JWT_ACCESS_TTL=15m

# JWT_REFRESH_TTL: Lifetime of refresh tokens
# Format: Go duration (e.g., "168h" = 1 week, "720h" = 30 days)
# Recommendation: 7-30 days
JWT_REFRESH_TTL=720h

# JWT_SECRET: Secret key for signing access tokens
# REQUIRED - MUST be set to a strong random value
# Generate with: openssl rand -base64 32
# NEVER commit actual secrets to git!
JWT_SECRET=YOUR_ACCESS_SECRET_HERE_GENERATE_WITH_OPENSSL

# JWT_REFRESH_SECRET: Secret key for signing refresh tokens
# REQUIRED - MUST be different from JWT_SECRET
# Generate with: openssl rand -base64 32
JWT_REFRESH_SECRET=YOUR_REFRESH_SECRET_HERE_GENERATE_WITH_OPENSSL

# Bootstrap Admin User Configuration
# --------------------------
# These credentials are ONLY used to create the initial admin account
# when the database is empty (first run). After the admin is created,
# changing these values has no effect.
#
# ADMIN_EMAIL: Email address for the default admin account
# REQUIRED - Must be a valid email address
# Change this to your actual email
ADMIN_EMAIL=admin@yourdomain.com

# ADMIN_PASSWORD: Password for the default admin account
# REQUIRED - Must be strong (minimum 12 characters recommended)
# Use letters, numbers, and symbols
# IMPORTANT: Change this password immediately after first login!
ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_12_CHARS_MIN

# Two-Factor Authentication
# --------------------------
# AUTH_2FA_ENABLED: Enable TOTP-based two-factor authentication
# Options: true, false
# Recommendation: true for enhanced security
AUTH_2FA_ENABLED=true

# MongoDB Database Configuration
# --------------------------
# MONGO_URI: MongoDB connection string
# Formats:
#   - Without auth (dev): mongodb://mongo:27017
#   - With auth (prod): mongodb://username:password@mongo:27017
# For production, enable MongoDB authentication:
#   1. Set MONGO_INITDB_ROOT_USERNAME and MONGO_INITDB_ROOT_PASSWORD in docker-compose
#   2. Update this URI to include credentials
MONGO_URI=mongodb://mongo:27017

# MONGO_DB: Database name to use
MONGO_DB=holyhome

# Logging Configuration
# --------------------------
# LOG_LEVEL: Logging verbosity level
# Options: debug, info, warn, error
# - debug: Detailed debug information (verbose)
# - info: General information (default)
# - warn: Warning messages only
# - error: Error messages only
LOG_LEVEL=info

# LOG_FORMAT: Log output format
# Options: json, text
# - json: Structured JSON logs (recommended for production)
# - text: Human-readable text logs (easier for development)
LOG_FORMAT=json

# ============================================================================
# DEPLOYMENT CHECKLIST:
# ============================================================================
# Before deploying to production, ensure you:
#
# [ ] Copy this file to .env: cp .env.example .env
# [ ] Generate strong JWT_SECRET: openssl rand -base64 32
# [ ] Generate strong JWT_REFRESH_SECRET: openssl rand -base64 32
# [ ] Set your real ADMIN_EMAIL address
# [ ] Create strong ADMIN_PASSWORD (12+ characters, mixed case, numbers, symbols)
# [ ] Set APP_DOMAIN to your actual domain (required for WebAuthn/passkeys)
# [ ] Set APP_BASE_URL to your actual URL (e.g., https://home.yourdomain.com)
# [ ] Change APP_ENV to "production"
# [ ] Enable MongoDB authentication and update MONGO_URI
# [ ] Never commit .env file to version control (already in .gitignore)
#
# For MongoDB authentication setup:
#   1. In docker-compose.yml, uncomment and set:
#      MONGO_INITDB_ROOT_USERNAME: holyhome_admin
#      MONGO_INITDB_ROOT_PASSWORD: <strong-password>
#   2. Update MONGO_URI: mongodb://holyhome_admin:password@mongo:27017
# ============================================================================
