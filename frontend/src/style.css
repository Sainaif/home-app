@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
  }

  body {
    @apply bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 text-gray-100 min-h-screen antialiased;
    margin: 0;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    overflow-x: hidden;
  }

  html {
    overflow-x: hidden;
  }

  * {
    box-sizing: border-box;
  }
}

@layer components {
  .btn {
    @apply px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }

  .btn-primary {
    @apply bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white ring-2 ring-purple-500/20;
  }

  .btn-secondary {
    @apply bg-gradient-to-r from-pink-600 to-pink-700 hover:from-pink-500 hover:to-pink-600 text-white ring-2 ring-pink-500/20;
  }

  .btn-outline {
    @apply border-2 border-gray-700 hover:border-purple-500 bg-transparent hover:bg-purple-500/10 text-gray-300 hover:text-white;
  }

  .btn-sm {
    @apply px-4 py-2 text-sm rounded-lg;
  }

  .input {
    @apply w-full px-4 py-3 bg-gray-800/50 backdrop-blur border border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-100 placeholder-gray-500 transition-all;
  }

  .card {
    @apply bg-gray-800/40 backdrop-blur-xl rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-gray-600/50 transition-all;
  }

  .card-header {
    @apply flex items-center justify-between mb-6 pb-4 border-b border-gray-700/50;
  }

  .card-title {
    @apply text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent;
  }

  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
  }

  .badge-draft {
    @apply bg-yellow-500/20 text-yellow-400 ring-1 ring-yellow-500/30;
  }

  .badge-posted {
    @apply bg-blue-500/20 text-blue-400 ring-1 ring-blue-500/30;
  }

  .badge-closed {
    @apply bg-green-500/20 text-green-400 ring-1 ring-green-500/30;
  }

  .badge-pending {
    @apply bg-orange-500/20 text-orange-400 ring-1 ring-orange-500/30;
  }

  .badge-done {
    @apply bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30;
  }

  .stat-card {
    @apply card hover:scale-105 transition-transform cursor-pointer;
  }

  .table-wrapper {
    @apply overflow-x-auto rounded-xl border border-gray-700/50;
  }

  table {
    @apply w-full;
  }

  thead {
    @apply bg-gray-800/60 backdrop-blur;
  }

  th {
    @apply px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider;
  }

  tbody tr {
    @apply border-t border-gray-800 hover:bg-gray-800/30 transition-colors;
  }

  td {
    @apply px-6 py-4 text-sm;
  }

  .nav-link {
    @apply px-4 py-2 rounded-xl text-sm font-medium text-gray-300 hover:bg-gray-800/50 hover:text-white transition-all flex items-center gap-2;
  }

  .nav-link.router-link-active {
    @apply bg-gradient-to-r from-purple-600/20 to-pink-600/20 text-white ring-2 ring-purple-500/30;
  }

  .gradient-text {
    @apply bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent;
  }

  .glass {
    @apply bg-gray-800/30 backdrop-blur-xl border border-gray-700/50;
  }

  .loading-spinner {
    @apply animate-spin h-5 w-5 border-2 border-gray-600 border-t-purple-500 rounded-full;
  }

  .mobile-nav-link {
    @apply flex flex-col items-center justify-center py-2 px-1 text-gray-400 transition-all min-w-0 rounded-xl;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    min-height: 56px;
  }

  .mobile-nav-link:active {
    @apply bg-gray-700/30;
    transform: scale(0.95);
    transition-duration: 100ms;
  }

  .mobile-nav-link.router-link-active {
    @apply text-purple-400;
    background: linear-gradient(135deg, rgba(147, 51, 234, 0.15), rgba(236, 72, 153, 0.12));
  }

  .mobile-nav-link svg {
    transition: color 200ms ease;
  }

  .mobile-nav-link.router-link-active svg {
    @apply text-purple-400;
  }

  .mobile-nav-link span {
    text-align: center;
    word-break: keep-all;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
    font-size: clamp(9px, 2.5vw, 11px);
    margin-top: 2px;
    font-weight: 500;
    line-height: 1.2;
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Mobile-first utility classes */
  .page-header {
    @apply flex items-center justify-between mb-6;
  }

  .button-group {
    @apply flex items-center gap-2;
  }
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  /* Text containment - prevent overflow */
  h1, h2, h3, h4, h5, h6, p, span {
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
  }

  /* Force vertical stacking for page headers */
  .page-header {
    @apply flex-col items-stretch gap-3;
  }

  .page-header button,
  .page-header .btn {
    width: 100%;
  }

  /* Button groups - use 2-column grid */
  .button-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
  }

  .button-group.full-width {
    grid-template-columns: 1fr;
  }

  /* Force single column for all grids */
  .grid-cols-2,
  .grid-cols-3,
  .grid-cols-4 {
    grid-template-columns: 1fr !important;
  }

  /* Keep 2-column for button groups specifically */
  .button-group.grid-cols-2,
  .button-group.grid-cols-4 {
    grid-template-columns: 1fr 1fr !important;
  }
  /* Typography - cleaner hierarchy */
  h1 {
    @apply text-2xl font-bold leading-tight;
  }

  h2 {
    @apply text-xl font-semibold leading-tight;
  }

  h3 {
    @apply text-lg font-medium leading-tight;
  }

  p {
    @apply leading-relaxed;
  }

  /* Cards - more breathing room */
  .card {
    @apply p-5 rounded-2xl shadow-xl;
  }

  .card-header {
    @apply mb-4 pb-3;
  }

  .card-title {
    @apply text-lg font-bold;
  }

  /* Stat cards - better visual hierarchy */
  .stat-card {
    @apply p-5 rounded-2xl;
  }

  .stat-card p {
    font-size: clamp(0.875rem, 2.5vw, 1rem);
  }

  .stat-card .text-3xl {
    font-size: clamp(1.5rem, 5vw, 2rem) !important;
  }

  /* Buttons - consistent sizing */
  .btn {
    @apply px-5 py-3 text-sm font-semibold rounded-xl;
  }

  .btn-sm {
    @apply px-3 py-2 text-xs rounded-lg;
  }

  /* Inputs - larger touch targets */
  .input {
    @apply px-4 py-3 text-base rounded-xl;
  }

  select {
    @apply px-4 py-3 text-base rounded-xl;
  }

  textarea {
    @apply px-4 py-3 text-base rounded-xl;
  }

  /* Tables - cleaner mobile view */
  .table-wrapper {
    @apply rounded-xl border border-gray-700/50 overflow-hidden;
  }

  table {
    @apply text-sm;
    min-width: 100%;
  }

  table th {
    @apply px-4 py-3 text-xs font-semibold uppercase tracking-wide bg-gray-800/80;
  }

  table td {
    @apply px-4 py-3.5;
  }

  table th:first-child,
  table td:first-child {
    @apply sticky left-0 bg-gray-800 z-10;
  }

  /* Modal improvements */
  .fixed .card,
  .fixed .bg-gray-800 {
    @apply mx-4 my-6 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-3rem)] overflow-y-auto rounded-2xl;
  }

  .fixed > div {
    @apply overflow-y-auto p-0;
  }

  /* Spacing - consistent rhythm */
  .space-y-6 > * + * {
    margin-top: 1.25rem !important;
  }

  .space-y-4 > * + * {
    margin-top: 1rem !important;
  }

  .space-y-3 > * + * {
    margin-top: 0.75rem !important;
  }

  /* Badges - readable but compact */
  .badge {
    @apply px-2.5 py-1 text-xs font-medium;
  }

  /* Grid layouts - single column for clarity */
  .grid {
    gap: 1rem;
  }

  /* Main content area - proper padding */
  main {
    @apply px-4 py-5;
    max-width: 100vw;
  }

  /* Header margin - less space on mobile */
  .mb-8 {
    @apply mb-5;
  }

  .mb-6 {
    @apply mb-4;
  }

  /* Better list item spacing */
  .space-y-3 > div {
    @apply p-4 rounded-xl;
  }

  /* Navigation improvements - responsive sizing */

  /* Touch targets */
  button {
    min-height: 48px;
    @apply active:scale-95 transition-transform;
  }

  input, select, textarea {
    min-height: 48px;
  }

  /* Forms - cleaner layouts */
  form .grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  form label {
    @apply text-sm font-medium mb-2 block;
  }

  /* Overflow handling */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(168, 85, 247, 0.5) transparent;
  }

  .overflow-x-auto::-webkit-scrollbar {
    height: 6px;
  }

  .overflow-x-auto::-webkit-scrollbar-track {
    background: transparent;
  }

  .overflow-x-auto::-webkit-scrollbar-thumb {
    background: rgba(168, 85, 247, 0.5);
    border-radius: 3px;
  }
}

/* Extra small screens */
@media (max-width: 380px) {
  .card {
    @apply p-4 rounded-xl;
  }

  .btn {
    @apply px-4 py-2.5 text-xs;
  }

  .mobile-nav-link {
    min-height: 54px;
    @apply py-1.5 px-0.5;
  }

  .mobile-nav-link svg {
    @apply w-5 h-5; /* 20px on very small screens */
  }

  .mobile-nav-link span {
    font-size: 9px !important;
  }

  table th,
  table td {
    @apply px-3 py-2.5 text-xs;
  }

  h1 {
    @apply text-xl;
  }
}

/* Large mobile screens */
@media (min-width: 640px) and (max-width: 767px) {
  .mobile-nav-link {
    min-height: 60px;
    @apply py-2.5 px-2;
  }

  .mobile-nav-link span {
    font-size: 11px !important;
  }
}

/* Large screens - better use of space */
@media (min-width: 1024px) {
  .card {
    @apply p-8;
  }

  .max-w-7xl {
    @apply px-8;
  }
}